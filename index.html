<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Goo Explosion</title>
         <link rel="icon" type="image/x-icon" href="img/favicon.ico">
        <link rel="stylesheet" href="styles/styles.css"/>
        
        <!-- Matter.js -->
        <script src="src/matter.min.js"></script>
    </head>
    <body>
        <div id="controls">
            <h3>Основные настройки</h3>
            <div>
                <label>Количество обычных точек:
                    <span id="amountVal">46</span>
                </label>
                <input type="range" id="amount" min="5" max="50" value="46"/>
            </div>
            <div>
                <label>Количество точек взрыва:
                    <span id="explosionAmountVal">135</span>
                </label>
                <input type="range" id="explosionAmount" min="5" max="170" value="135"/>
            </div>
            <div>
                <label>Ширина (px):
                    <span id="widthVal">22</span>
                </label>
                <input type="range" id="width" min="10" max="100" value="22"/>
            </div>
            <!--
            <div>
                <label>Скорость (Speed):
                    <span id="speedVal">3</span>
                </label>
                <input type="range" id="speed" min="1" max="10" value="3"/>
            </div>
            -->
            <div>
                <label>Хвост (Tail):
                    <span id="tailVal">4</span>
                </label>
                <input type="range" id="tail" min="1" max="10" value="4"/>
            </div>
            <div>
                <label>Таймаут (Idle, мс):
                    <span id="idleTimeoutVal">3000</span>
                </label>
                <input type="range" id="idleTimeout" min="500" max="5000" step="100" value="3000"/>
            </div>
            <div>
                <label>Притяжение к курсору:
                    <span id="cursorAttractionVal">0.00019</span>
                </label>
                <input type="range" id="cursorAttraction" min="0" max="0.0005" step="0.00001" value="0.00019"/>
            </div>
            <div>
                <label>Межчастичное притяжение:
                    <span id="particleAttractionVal">0.000008</span>
                </label>
                <input type="range" id="particleAttraction" min="0" max="0.00001" step="0.000001" value="0.000008"/>
            </div>
            <div>
                <label>Интенсивность взрыва:
                    <span id="explosionIntensityVal">4</span>
                </label>
                <input type="range" id="explosionIntensity" min="1" max="20" value="4"/>
            </div>
            <div>
                <label>Минимальный размер частицы:
                    <span id="minParticleSizeVal">13</span>
                </label>
                <input type="range" id="minParticleSize" min="1" max="50" value="13"/>
            </div>
            <div>
                <label>Максимальный размер частицы:
                    <span id="maxParticleSizeVal">20</span>
                </label>
                <input type="range" id="maxParticleSize" min="5" max="100" value="20"/>
            </div>

            <h3>Параметры фаз</h3>
            <div>
                <label>Длительность Фазы 1 (мс):
                    <span id="phase1DurationVal">2000</span>
                </label>
                <input type="range" id="phase1Duration" min="500" max="5000" step="100" value="2000"/>
            </div>
            <div>
                <label>Длительность Фазы 2 (мс):
                    <span id="phase2DurationVal">300</span>
                </label>
                <input type="range" id="phase2Duration" min="100" max="1000" step="50" value="300"/>
            </div>
            <div>
                <label>Длительность Фазы 4 (мс):
                    <span id="phase4DurationVal">3000</span>
                </label>
                <input type="range" id="phase4Duration" min="1000" max="5000" step="100" value="3000"/>
            </div>
            <div>
                <label>Порог сборки:
                    <span id="assemblyThresholdVal">13</span>
                </label>
                <input type="range" id="assemblyThreshold" min="1" max="20" value="13"/>
            </div>

            <h3>Параметры физики</h3>
            <div>
                <label>Множитель силы курсора:
                    <span id="cursorForceMultiplierVal">700</span>
                </label>
                <input type="range" id="cursorForceMultiplier" min="100" max="10000" step="100" value="700"/>
            </div>
            <div>
                <label>Множитель межчастичного притяжения:
                    <span id="particleForceMultiplierVal">800</span>
                </label>
                <input type="range" id="particleForceMultiplier" min="100" max="10000" step="100" value="800"/>
            </div>
            <div>
                <label>Демпфирование (frictionAir):
                    <span id="frictionAirVal">0.067</span>
                </label>
                <input type="range" id="frictionAir" min="0.001" max="0.1" step="0.001" value="0.067"/>
            </div>
        </div>

        <div class="goo-cursor">
            <svg class="ink-icon" xmlns="http://www.w3.org/2000/svg" version="1.1" width="800">
                <defs>
                    <filter id="goo">
                        <feGaussianBlur in="SourceGraphic" stdDeviation="6" result="blur"/>
                        <feColorMatrix in="blur" mode="matrix" values="
                                          1 0 0 0 0
                                          0 1 0 0 0
                                          0 0 1 0 0
                                          0 0 0 35 -15
                                        " result="goo"/>
                        <feComposite in="SourceGraphic" in2="goo" operator="atop"/>
                    </filter>
                </defs>
            </svg>
            <div id="cursor" class="Cursor"></div>
        </div>

        <!-- Подключаем наш скрипт с логикой goo -->
        <script src="src/goo.js"></script>
    </body>
</html>
